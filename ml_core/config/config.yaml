# OncoVisionX Configuration File
# ================================
# Centralized configuration for reproducibility and easy experimentation

project:
  name: "OncoVisionX"
  version: "1.0.0"
  description: "AI-powered skin lesion triage system"
  random_seed: 42

# Colab: /content/drive/MyDrive/Skin_triage_data/ml_core
# Local: E:/OncoVisionX/ml_core

paths:
  data_root:         "data"
  raw_dir:           "data/raw"
  processed_dir:     "data/processed"
  ham_images:        "data/raw/HAM_10000/images"
  isic_images:       "data/raw/ISIC_2019/ISIC_2019_Training_Input"
  train_csv:         "data/processed/train.csv"
  val_csv:           "data/processed/val.csv"
  test_csv:          "data/processed/test.csv"
  checkpoints_dir:   "checkpoints"
  logs_dir:          "logs"
  results_dir:       "results"

dataset:
  image_size:  224
  num_classes: 8
  class_names: ['akiec', 'bcc', 'bkl', 'df', 'mel', 'nv', 'scc', 'vasc']
  class_to_idx:
    akiec: 0
    bcc:   1
    bkl:   2
    df:    3
    mel:   4
    nv:    5
    scc:   6
    vasc:  7
  mean: [0.485, 0.456, 0.406]
  std:  [0.229, 0.224, 0.225]

augmentation:
  # Training augmentations
  train:
    horizontal_flip: 0.5
    vertical_flip: 0.5
    rotate_90: 0.5
    shift_scale_rotate:
      shift_limit: 0.1
      scale_limit: 0.1
      rotate_limit: 45
      p: 0.5
    color_jitter:
      brightness: 0.2
      contrast: 0.2
      saturation: 0.2
      hue: 0.1
      p: 0.3
    gaussian_blur:
      blur_limit: [3, 7]
      p: 0.2
    
  # Validation/Test (no augmentation, only resize + normalize)
  val_test:
    resize_only: true

training:
  batch_size:             32
  num_epochs:             30
  learning_rate:          0.0001
  weight_decay:           0.0001
  num_workers:            2       # 2 for Colab stability
  pin_memory:             true
  use_amp:                true    # Mixed precision on T4 GPU
  use_class_weights:      true
  early_stopping_patience: 7
  grad_clip_norm:         1.0
  scheduler_patience:     4
  scheduler_factor:       0.5
  min_lr:                 0.000001

models:
  efficientnet_b0:
    backbone:  "efficientnet_b0"
    dropout:   0.3
    pretrained: true
  resnet50:
    backbone:  "resnet50"
    dropout:   0.3
    pretrained: true
  convnext_tiny:
    backbone:  "convnext_tiny"
    dropout:   0.3
    pretrained: true

logging:
  # Wandb/Tensorboard integration
  use_wandb: false
  wandb_project: "oncovisionx"
  
  # Console logging
  log_interval: 10  # Log every N batches
  
  # Checkpointing
  save_best_only: true
  save_frequency: 5  # Save every N epochs

hardware:
  # Device configuration
  device: "cuda"  # Will auto-fallback to CPU if CUDA unavailable
  gpu_ids: [0]  # Multi-GPU support (future)
  
  # Memory optimization
  gradient_accumulation_steps: 1
  max_grad_norm: 1.0  # Gradient clipping
